(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-871a6f12"],{"1cb3":function(e,t,a){"use strict";var n=a("76a50"),r=a.n(n);r.a},"76a50":function(e,t,a){},"80ab":function(e,t,a){},b775:function(e,t,a){"use strict";var n=a("bc3a"),r=a.n(n),s=a("5c96"),o=a("ca00"),i=Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_BASE_API?Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_BASE_API:Object(o["b"])(),l=Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_API_ROOT;i+=l;var c=r.a.create({baseURL:i,timeout:5e3});c.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),c.interceptors.response.use((function(e){return e}),(function(e){if(e&&e.response){var t=e.response.data.message;switch(e.response.status){case 400:e.response.message=t||"请求错误",Object(s["Message"])({message:"请求错误",type:"warning"});break;case 401:e.response.message=t||"未授权，请登录",Object(s["Message"])({message:"未授权，请登录",type:"warning"});break;case 403:e.response.message=t||"拒绝访问",Object(s["Message"])({message:"拒绝访问",type:"warning"});break;case 404:e.response.message=t||"请求地址出错: ".concat(e.response.config.url),Object(s["Message"])({message:"请求地址出错: ${err.response.config.url}",type:"warning"});break;case 405:e.response.message=t||"拒绝访问",Object(s["Message"])({message:"拒绝访问",type:"warning"});break;case 408:e.response.message=t||"请求超时",Object(s["Message"])({message:"请求超时",type:"warning"});break;case 500:if(e.response.message=t||"服务器内部错误","io.jsonwebtoken.ExpiredJwtException"===e.response.data["exception"]){var a="Token过期 超时,请重新登陆";!0===confirm(a)&&location.reload()}break;case 501:e.response.message=t||"服务未实现",Object(s["Message"])({message:"服务未实现",type:"warning"});break;case 502:e.response.message=t||"网络错误",Object(s["Message"])({message:"网络错误",type:"warning"});break;case 503:e.response.message=t||"服务不可用",Object(s["Message"])({message:"服务不可用",type:"warning"});break;case 504:e.response.message=t||"网络超时",Object(s["Message"])({message:"网络超时",type:"warning"});break;case 505:e.response.message=t||"HTTP版本不受支持",Object(s["Message"])({message:"HTTP版本不受支持",type:"warning"});break;default:e.response.message=t}}return Promise.reject(e)})),t["a"]=c},bd79:function(e,t,a){"use strict";var n=a("80ab"),r=a.n(n);r.a},c1b8:function(e,t,a){"use strict";var n=a("d368"),r=a.n(n);r.a},d368:function(e,t,a){},e382:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user common-page-bg"},[a("el-tabs",{staticStyle:{"margin-top":"15px"},attrs:{type:"border-card"},on:{"tab-click":function(t){return e.showCreatedTimes(e.activeName)}},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.tabMapOptions,(function(t){return a("el-tab-pane",{key:t.key,attrs:{label:t.label,name:t.key}},[a("keep-alive",[a(e.setTabTemplate(e.activeName),{tag:"component"})],1)],1)})),1)],1)},r=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tab-page"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content"},[a("span",[e._v("用户筛选")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.handleCreate("add")}}},[e._v("添加")])],1)])],1),a("el-divider",{staticClass:"divider"}),a("el-form",{staticClass:"form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"用户"}},[a("el-input",{attrs:{placeholder:"用户"},model:{value:e.formInline.user,callback:function(t){e.$set(e.formInline,"user",t)},expression:"formInline.user"}})],1),a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{attrs:{placeholder:"手机号"},model:{value:e.formInline.region,callback:function(t){e.$set(e.formInline,"region",t)},expression:"formInline.region"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")]),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content"},[a("span",[e._v("用户列表")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-download"}},[e._v("导出")])],1)])],1),a("el-divider"),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{label:"提交时间",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.date))])]}}])}),a("el-table-column",{attrs:{prop:"name",label:"项目名称",width:"180"}}),a("el-table-column",{attrs:{prop:"address",label:"属性"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.modifyUser(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.delItem(t.row.id)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":e.currentPage,"page-sizes":[5,8,10,15],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("addForm",{attrs:{data:{dialogFormVisible:e.addDialogFormVisible,formType:e.formType,formData:e.formData,pagination:{pageSize:this.pageSize,currentPage:this.currentPage}}},on:{reset:e.cancel,initData:e.initData,getTotal:e.getTotal}})],1)},o=[],i=a("b775"),l=function(){return Object(i["a"])({url:"/userlist",method:"get"})},c=function(e){return Object(i["a"])({url:"/userlist?_page="+e.currentPage+"&_limit="+e.pageSize,method:"get"})},u=function(e){return Object(i["a"])({url:"/add/user",method:"post",data:e})},d=function(e){return Object(i["a"])({url:"/del/user/"+e,method:"DELETE"})},m=function(e){return Object(i["a"])({url:"/modify/user/"+e.id,method:"PUT",data:e})},f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-from"},[a("el-dialog",{directives:[{name:"dialog-drag",rawName:"v-dialog-drag"}],attrs:{title:"add"==e.formType?"添加用户":"编辑用户",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t},closed:e.closedDialog}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"name","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"address","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),a("el-form-item",{attrs:{label:"date","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.reset}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1)],1)},p=[],g={watch:{data:function(e){this.dialogFormVisible=e.dialogFormVisible,this.formType=e.formType,this.form=e.formData}},props:{data:{type:Object,default:function(){}}},components:{},data:function(){return{dialogFormVisible:!1,formType:"add",form:{name:"",address:"",date:""},formLabelWidth:"120px"}},computed:{},mounted:function(){},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},methods:{closedDialog:function(){},reset:function(){this.$emit("reset","add")},submit:function(){var e=this;"add"==this.formType?u(this.form).then((function(){e.$emit("initData",e.data.pagination),e.$emit("getTotal")})):m(this.form).then((function(){e.$emit("initData",e.data.pagination),e.$emit("getTotal")})),this.reset()}}},b=g,h=a("2877"),y=Object(h["a"])(b,f,p,!1,null,null,null),v=y.exports,_=a("81b0"),w=a.n(_),k={props:{},components:{addForm:v},data:function(){return{addDialogFormVisible:!1,formType:"add",formData:{},formInline:{user:"",region:""},tableData:[],currentPage1:5,currentPage2:5,currentPage3:5,currentPage4:4,currentPage:1,pageSize:5,total:0}},computed:{},mounted:function(){this.initData({pageSize:this.pageSize,currentPage:this.currentPage}),this.getTotal()},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},methods:{onSubmit:function(){console.log("submit!")},handleSizeChange:function(e){console.log("每页 ".concat(e," 条")),this.pageSize=e,this.initData({pageSize:this.pageSize,currentPage:this.currentPage})},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.currentPage=e,this.initData({pageSize:this.pageSize,currentPage:this.currentPage})},handleCreate:function(e){this.addDialogFormVisible=!0,this.formType=e,this.formData={name:"",address:"",date:""}},cancel:function(e){this.addDialogFormVisible=!1,this.formType=e},initData:function(e){var t=this;c(e).then((function(e){t.tableData=e.data}))},delItem:function(e){var t=this;d(e).then((function(){t.initData({pageSize:t.pageSize,currentPage:t.currentPage}),t.getTotal()}))},modifyUser:function(e){this.addDialogFormVisible=!0,this.formType="edit",this.formData=w.a.cloneDeep(e)},getTotal:function(){var e=this;l().then((function(t){e.total=t.data.length}))}}},P=k,D=(a("c1b8"),Object(h["a"])(P,s,o,!1,null,null,null)),S=D.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tab-page2"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content"},[a("span",[e._v("待审批列表")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-download"}},[e._v("导出")])],1)])],1),a("el-divider"),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{label:"提交时间",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.date))])]}}])}),a("el-table-column",{attrs:{prop:"name",label:"项目名称",width:"180"}}),a("el-table-column",{attrs:{prop:"address",label:"属性"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"}},[[a("el-button",{attrs:{type:"text",size:"small"}},[e._v("通过")]),a("el-button",{attrs:{type:"text",size:"small"}},[e._v("拒绝")])]],2)],1),a("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":e.currentPage4,"page-sizes":[100,200,300,400],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:400},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},O=[],C={watch:{},props:{},components:{},data:function(){return{tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}],currentPage1:5,currentPage2:5,currentPage3:5,currentPage4:4}},computed:{},mounted:function(){},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},methods:{handleSizeChange:function(e){console.log("每页 ".concat(e," 条"))},handleCurrentChange:function(e){console.log("当前页: ".concat(e))}}},j=C,z=(a("bd79"),Object(h["a"])(j,T,O,!1,null,null,null)),x=z.exports,E={metaInfo:{title:"user",titleTemplate:"%s - Yay!",htmlAttrs:{lang:"en",amp:!0}},components:{tab:S,tab2:x},data:function(){return{tabMapOptions:[{label:"用户",key:"tab"},{label:"待审批",key:"tab2"}],activeName:"tab",createdTimes:0}},methods:{showCreatedTimes:function(){},setTabTemplate:function(e){switch(e){case"tab":return S;case"tab2":return x;default:}}}},V=E,M=(a("1cb3"),Object(h["a"])(V,n,r,!1,null,null,null));t["default"]=M.exports}}]);